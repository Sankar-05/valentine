<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Surprise ‚ú®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Caveat:wght@700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Quicksand', sans-serif; background-color: #fff0f3; overflow-x: hidden; }
        .font-handwritten { font-family: 'Caveat', cursive; }
        .hidden-content { display: none; }
        
        /* Floating animation for icons */
        .floating { animation: float 3s ease-in-out infinite; }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        /* Heart animation */
        .heart { position: absolute; color: #ff85a1; opacity: 0.6; animation: rise 5s linear infinite; z-index: 1; }
        @keyframes rise {
            from { transform: translateY(100vh) scale(0); opacity: 1; }
            to { transform: translateY(-10vh) scale(1.5); opacity: 0; }
        }

        /* Cursor blinking effect */
        .cursor { border-right: 3px solid #f472b6; animation: blink 0.7s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        .custom-scroll::-webkit-scrollbar { width: 5px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #fbcfe8; border-radius: 10px; }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen">

    <div id="gate" class="z-20 bg-white/80 backdrop-blur-md p-10 rounded-[2.5rem] shadow-2xl text-center border-4 border-pink-100 max-w-sm mx-4">
        <div class="text-5xl mb-4 floating">‚ú®</div>
        <h2 class="text-2xl font-bold text-pink-500 mb-6">Knock knock! <br>Enter the secret word:</h2>
        <input type="text" id="pass-input" placeholder="Hint: Where we first met" 
            class="w-full p-3 rounded-full border-2 border-pink-200 outline-none text-center text-pink-600 focus:border-pink-400 mb-6">
        <button onclick="checkPass()" class="bg-pink-400 hover:bg-pink-500 text-white font-bold py-3 px-8 rounded-full transition-all shadow-md">
            Open üå∏
        </button>
        <p id="error-msg" class="text-pink-400 mt-4 text-sm hidden font-bold">Incorrect! Try again niggesh üòà.</p>
    </div>

    <div id="main-content" class="hidden-content flex-col items-center p-6 text-center z-10">
        <div class="bg-white/90 p-8 md:p-12 rounded-[3rem] shadow-2xl max-w-xl border-t-8 border-pink-300">
            <h1 class="text-5xl md:text-6xl font-handwritten text-pink-500 mb-6">Hi Lalluuu! ‚ù§Ô∏è</h1>
            <p class="text-lg text-gray-600 mb-8 leading-relaxed">
                I wanted to make something special just for you. Every day with you feels like a dream and I'm so lucky to have you in my life.
            </p>
            <h2 class="text-3xl font-bold text-pink-400 mb-8">Will you be my Valentine?</h2>
            <div class="flex gap-6 justify-center relative h-16">
                <button onclick="celebrate()" class="bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-10 rounded-full shadow-lg transform active:scale-95 transition-all">
                    Yes! ‚ú®
                </button>
                <button id="no-btn" onmouseover="moveButton()" class="bg-pink-100 text-pink-300 font-bold py-3 px-10 rounded-full transition-all duration-75">
                    No
                </button>
            </div>
        </div>
    </div>

    <div id="final-screen" class="hidden-content flex-col items-center p-4 z-10 w-full max-w-2xl mx-auto">
        <div class="bg-white/95 p-10 md:p-16 rounded-[3rem] shadow-2xl border-b-8 border-pink-300 overflow-y-auto max-h-[90vh] custom-scroll">
            <h1 class="text-5xl md:text-6xl font-handwritten text-pink-600 mb-10 text-center">Yayyyy!!! ‚ù§Ô∏èüï∫‚ú®</h1>
            
            <div id="typewriter" class="text-left space-y-10 text-gray-700 leading-relaxed text-2xl md:text-3xl font-handwritten min-h-[300px]">
                </div>

            <div id="sappy-note" class="hidden text-xl italic opacity-80 pt-6 mt-10 border-t border-pink-100 font-sans">
                And yeah, I know you're not into sappy shit like this so I'll wrap things up. Thank you for being so patient with me and just being you. I'm really proud of what we have and what the future has in store for us &lt;3
            </div>

            <div id="final-emojis" class="hidden mt-12 text-5xl flex gap-6 justify-center">‚òÅÔ∏è üß∏ üç∞</div>
        </div>
    </div>

    <script>
        // 1. Password Check
        function checkPass() {
            const input = document.getElementById('pass-input').value.toLowerCase();
            if (input === 'fpga lab' || input === 'fpga') { 
                document.getElementById('gate').style.display = 'none';
                document.getElementById('main-content').classList.remove('hidden-content');
                document.getElementById('main-content').classList.add('flex');
                createHearts();
            } else {
                document.getElementById('error-msg').classList.remove('hidden');
                document.getElementById('pass-input').value = '';
            }
        }

        // 2. Button Dodger
        function moveButton() {
            const btn = document.getElementById('no-btn');
            btn.style.position = 'fixed';
            btn.style.left = Math.random() * (window.innerWidth - 150) + 'px';
            btn.style.top = Math.random() * (window.innerHeight - 100) + 'px';
        }

        // 3. The Letter Logic
        const message = `You just made me the happiest guy ever. I can't wait to celebrate with you!\n\nThese past 8 months with you have meant more to me than I can ever put into words. We've shared a lot of moments, both highs as well as lows. But instead of breaking us, they've only strengthened what we had.\n\nEvery obstacle we've faced has only reminded me how much I value the idea of us and how grateful I am to grow together with you.\n\nYou are such a warm person and you make me so happy. The way you get shy, that stupid smile of yours, and the way you make even the most mundane of days seem exciting are all reasons why I fell for you.\n\nBut every time we are together, you'd do some little thing or the other and I can feel myself falling for you all over again. I really like you, Lalitha, and I wouldn't trade what we have for anything else.\n\nThank you for choosing me.`;

        function typeWriter(text, i, fnCallback) {
            if (i < text.length) {
                let char = text.charAt(i);
                // Handle new lines for the animation
                if (char === '\n') {
                    document.getElementById("typewriter").innerHTML += '<br>';
                } else {
                    document.getElementById("typewriter").innerHTML += char;
                }
                
                // Speed of "writing" (adjust 40 to go faster or slower)
                setTimeout(function() {
                    typeWriter(text, i + 1, fnCallback)
                }, 40);
            } else if (typeof fnCallback == 'function') {
                fnCallback();
            }
        }

        function celebrate() {
            document.getElementById('main-content').style.display = 'none';
            const final = document.getElementById('final-screen');
            final.classList.remove('hidden-content');
            final.classList.add('flex');
            
            // Start the writing effect
            setTimeout(() => {
                typeWriter(message, 0, function() {
                    // Show the sappy note and emojis after the letter is done
                    document.getElementById('sappy-note').classList.remove('hidden');
                    document.getElementById('final-emojis').classList.remove('hidden');
                });
            }, 500);
        }

        // Background Hearts
        function createSingleHeart() {
            const heart = document.createElement('div');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.className = 'heart';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }

        function createHearts() {
            setInterval(createSingleHeart, 400);
        }

        document.getElementById('pass-input').addEventListener('keypress', (e) => { if (e.key === 'Enter') checkPass(); });
    </script>
</body>
</html>
